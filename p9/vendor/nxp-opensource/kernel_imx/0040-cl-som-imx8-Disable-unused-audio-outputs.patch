From f877cd4f8dadac1b58380159c9d05d0e5332415c Mon Sep 17 00:00:00 2001
From: Valentin Raevsky <valentin@compulab.co.il>
Date: Thu, 7 May 2020 17:35:39 +0300
Subject: [PATCH 40/41] cl-som-imx8: Disable unused audio outputs

Signed-off-by: Valentin Raevsky <valentin@compulab.co.il>
---
 arch/arm64/boot/dts/compulab/compulab-imx8mq.dtsi | 16 ++++++++++++----
 1 file changed, 12 insertions(+), 4 deletions(-)

diff --git a/arch/arm64/boot/dts/compulab/compulab-imx8mq.dtsi b/arch/arm64/boot/dts/compulab/compulab-imx8mq.dtsi
index a96b31193981..7c23b8609dc9 100644
--- a/arch/arm64/boot/dts/compulab/compulab-imx8mq.dtsi
+++ b/arch/arm64/boot/dts/compulab/compulab-imx8mq.dtsi
@@ -143,7 +143,7 @@
 				<192000>;
 	};
 
-	sound-spdif {
+	sound_spdif: sound-spdif {
 		compatible = "fsl,imx-audio-spdif";
 		model = "imx-spdif";
 		spdif-controller = <&spdif1>;
@@ -151,7 +151,7 @@
 		spdif-in;
 	};
 
-	sound-hdmi-arc {
+	sound_hdmi_arc: sound-hdmi-arc {
 		compatible = "fsl,imx-audio-spdif";
 		model = "imx-hdmi-arc";
 		spdif-controller = <&spdif2>;
@@ -663,14 +663,14 @@
 	assigned-clocks = <&clk IMX8MQ_CLK_SPDIF1>;
 	assigned-clock-parents = <&clk IMX8MQ_AUDIO_PLL1_OUT>;
 	assigned-clock-rates = <24576000>;
-	status = "okay";
+	status = "disabled";
 };
 
 &spdif2 {
 	assigned-clocks = <&clk IMX8MQ_CLK_SPDIF2>;
 	assigned-clock-parents = <&clk IMX8MQ_AUDIO_PLL1_OUT>;
 	assigned-clock-rates = <24576000>;
-	status = "okay";
+	status = "disabled";
 };
 
 &gpu_pd {
@@ -730,3 +730,11 @@
         linux,cma-default;
     };
 };
+
+&sound_spdif {
+    status = "disabled";
+};
+
+&sound_hdmi_arc {
+    status = "disabled";
+};
-- 
2.11.0

